name: Run cypress tests

on:
  # This workflow is only called by others, won't be executed on itself
  # as it uses the pre-built Docker image that is produced in the upstream job.
  workflow_call:
    inputs:
      ui_docker_image:
        type: string
        required: true
      cypress_docker_image:
        type: string
        required: true

jobs:
  run_cypress_tests:
    name: Run cypress e2e tests from docker
    runs-on: ubuntu-24.04

    steps:
      - name: Setup environment and run e2e tests from GitHub action
        uses: HSLdevcom/jore4-tools/github-actions/run-ci@main
        with:
          ui_version: '${{ inputs.ui_docker_image }}'
          cypress_version: '${{ inputs.cypress_docker_image }}'
          test-tags: ''
